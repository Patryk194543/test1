<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>Flirt z NataliƒÖ</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #1a1a1a;
      color: #fff;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }

    .chat-container {
      width: 100%;
      max-width: 420px;
      height: 90vh; /* zmniejszone z 100vh */
      background-color: #2c2c2c;
      display: flex;
      flex-direction: column;
      margin: 0 auto;
      box-shadow: 0 0 15px rgba(255, 20, 147, 0.5);
    }

    .header {
      flex: 0 0 auto;
      display: flex;
      align-items: center;
      padding: 10px;
      background-color: #3a3a3a;
      border-bottom: 1px solid #444;
    }

    .header img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 10px;
    }

    .header-info {
      display: flex;
      flex-direction: column;
    }

    .name-status {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .online-dot {
      width: 8px;
      height: 8px;
      background-color: #00ff00;
      border-radius: 50%;
    }

    .status-text {
      font-size: 12px;
      color: #aaa;
    }

    .messages {
      flex: 1 1 auto;
      padding: 10px;
      overflow-y: auto;
      max-height: 60vh; /* dodane ograniczenie wysoko≈õci */
    }

    .options {
      flex: 0 0 160px; 
      display: flex;
      flex-direction: column;
      justify-content: space-evenly;
      padding: 10px;
      border-top: 1px solid #444;
      background-color: #2c2c2c;
    }

    .message-row {
      display: flex;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .message-row.natalia {
      flex-direction: row;
    }

    .message-row.user {
      justify-content: flex-end;
    }

    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      margin-right: 8px;
      margin-top: 4px;
    }

    .message {
      max-width: 75%;
      padding: 8px 12px;
      border-radius: 15px;
      animation: fadeIn 0.4s ease-in-out;
      word-wrap: break-word;
    }

    .natalia .message {
      background-color: #ff69b4;
      color: #000;
    }

    .user .message {
      background-color: #6a5acd;
      color: #fff;
    }

    .option-btn {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 8px;
      background-color: #ff1493;
      color: white;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .option-btn:hover {
      background-color: #ff69b4;
    }

    .chat-img, .chat-video {
      width: 100%;
      border-radius: 10px;
      margin-top: 5px;
    }

    .typing {
      font-style: italic;
      color: #aaa;
      margin-bottom: 8px;
      animation: fadeIn 0.3s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes blink {
      0% { opacity: 0.3; }
      50% { opacity: 1; }
      100% { opacity: 0.3; }
    }

    .dots::after {
      content: '...';
      animation: blink 1s infinite;
    }
  </style>
</head>
<body>

  <div class="chat-container">
    <div class="header">
      <img src="avatar.jpg" alt="Natalia">
      <div class="header-info">
        <div class="name-status">
          <strong>Natalia</strong>
          <span class="online-dot"></span>
        </div>
        <span class="status-text">Aktywna teraz</span>
      </div>
    </div>
    <div class="messages" id="chat"></div>
    <div class="options" id="options"></div>
    <div id="paywall" style="display:none; flex-direction: column; align-items: center; justify-content: center; background-color: #1a1a1a; color: white; padding: 20px;">
      <h2>Dalsza czƒô≈õƒá rozmowy dostƒôpna po odblokowaniu üî•</h2>
      <p>Ta rozmowa robi siƒô gorƒÖca... Odblokuj dostƒôp, by zobaczyƒá wiƒôcej zdjƒôƒá i film√≥w od Natalii üòè</p>
      <button onclick="unlockGame()" class="option-btn" style="margin-top: 20px;">Odblokuj dostƒôp</button>
    </div>
  </div>

<script>
  const dialog = [
      { question: "Hej... Lubisz poznawaƒá dziewczyny przez internet?", options: [
        { text: "Oczywi≈õcie, mo≈ºna tu poznaƒá kogo≈õ wyjƒÖtkowego.", correct: true },
        { text: "Nie, tylko siƒô nudzƒô.", correct: false },
        { text: "Zale≈ºy jak wyglƒÖdasz.", correct: false },
        { text: "To strata czasu.", correct: false }
      ] },
      { question: "To mi≈Çe... A jakƒÖ kobietƒô najbardziej lubisz?", options: [
        { text: "Zmys≈ÇowƒÖ i trochƒô nie≈õmia≈ÇƒÖ...", correct: true },
        { text: "Nie mam typu.", correct: false },
        { text: "Ka≈ºdƒÖ co siƒô zgodzi.", correct: false },
        { text: "Tylko modelki.", correct: false }
      ] },
      { question: "Oj... potrafisz byƒá czarzƒÖcy. Chcia≈Çby≈õ mnie lepiej poznaƒá?", options: [
        { text: "Tak, jeste≈õ bardzo intrygujƒÖca.", correct: true },
        { text: "Nie wiem, mo≈ºe.", correct: false },
        { text: "Zobaczymy czy siƒô rozbierzesz.", correct: false },
        { text: "Nie, dziƒôki.", correct: false }
      ] },
      { question: "Zrobi≈Ço siƒô gorƒÖco... Lubisz odwa≈ºniejsze rozmowy?", options: [
        { text: "Tak, je≈õli Ty te≈º masz ochotƒô...", correct: true },
        { text: "Nie bardzo.", correct: false },
        { text: "Jestem nie≈õmia≈Çy.", correct: false },
        { text: "Tylko z alkoholem.", correct: false }
      ] },
      { question: "To mo≈ºe co≈õ Ci poka≈ºƒô...", image: "1.jpg", options: [
        { text: "Wow... piƒôkne nogi!", correct: true },
        { text: "Wysy≈Çasz ka≈ºdemu?", correct: false },
        { text: "To wszystko?", correct: false },
        { text: "Nie lubiƒô zdjƒôƒá.", correct: false }
      ] },
      { question: "Lubiƒô gdy facet umie komplementowaƒá. Chcesz wiƒôcej?", options: [
        { text: "Zdecydowanie tak.", correct: true },
        { text: "Ju≈º widzia≈Çem lepsze.", correct: false },
        { text: "Nie musisz siƒô staraƒá.", correct: false },
        { text: "Tylko je≈õli jeste≈õ naga.", correct: false }
      ] },
      { question: "A to Ci siƒô spodoba?", image: "2.jpg", options: [
        { text: "Zdecydowanie... masz ≈õwietne cia≈Ço.", correct: true },
        { text: "Wolƒô wyobra≈∫niƒô.", correct: false },
        { text: "Za du≈ºo pokazujesz.", correct: false },
        { text: "Nie komentujƒô.", correct: false }
      ] },
      { question: "Powiedz mi, co zrobi≈Çby≈õ gdyby≈õmy byli sami?", options: [
        { text: "ZaczƒÖ≈Çbym od delikatnych poca≈Çunk√≥w.", correct: true },
        { text: "Od razu do rzeczy.", correct: false },
        { text: "Nic, jestem grzeczny.", correct: false },
        { text: "Zam√≥wi≈Çbym pizzƒô.", correct: false }
      ] },
      { question: "Mmm... a jak to zobaczysz?", image: "3.jpg", options: [
        { text: "To dzia≈Ça na wyobra≈∫niƒô...", correct: true },
        { text: "Nie mam czasu na zdjƒôcia.", correct: false },
        { text: "Nastƒôpne bƒôdzie bez ubrania?", correct: false },
        { text: "Wolƒô filmy.", correct: false }
      ] },
      { question: "To tylko dla Ciebie...", image: "4.jpg", options: [
        { text: "Czujƒô jak siƒô rozpalasz...", correct: true },
        { text: "Po co to robisz?", correct: false },
        { text: "Ju≈º mi siƒô znudzi≈Ço.", correct: false },
        { text: "Mam dziewczynƒô.", correct: false }
      ] },
      { question: "Czujƒô jak miƒôdzy nami co≈õ iskrzy...", options: [
        { text: "Te≈º to czujƒô, bardzo mocno.", correct: true },
        { text: "Nie wiem.", correct: false },
        { text: "To tylko czat.", correct: false },
        { text: "Nie ma chemii.", correct: false }
      ] },
      { question: "Nie mogƒô siƒô powstrzymaƒá...", video: "5.mp4", options: [
        { text: "Jeste≈õ niesamowita...", correct: true },
        { text: "Zrobiƒô zrzut ekranu.", correct: false },
        { text: "To ju≈º koniec?", correct: false },
        { text: "To za du≈ºo.", correct: false }
      ] },
    ];


  const chat = document.getElementById("chat");
  const optionsContainer = document.getElementById("options");
  const paywall = document.getElementById("paywall");
  let current = 0;
  let lastOptions = [];
  let unlocked = false;

  function scrollToBottom() {
    setTimeout(() => {
      chat.scrollTop = chat.scrollHeight;
    }, 100);
  }

  function playNataliaSound() {
    const audio = new Audio("w1.mp3");
    audio.play();
  }

  function showNataliaTyping(callback) {
    setTimeout(() => {
      const typing = document.createElement("div");
      typing.className = "typing dots";
      typing.textContent = "Natalia pisze";
      chat.appendChild(typing);
      scrollToBottom();
      setTimeout(() => {
        chat.removeChild(typing);
        callback();
      }, 2000);
    }, 1000);
  }

  function showMessage(data) {
    const row = document.createElement("div");
    row.className = "message-row natalia";

    const avatar = document.createElement("img");
    avatar.src = "avatar.jpg";
    avatar.alt = "avatar";
    avatar.className = "avatar";

    const bubble = document.createElement("div");
    bubble.className = "message natalia";

    if (data.question) bubble.textContent = data.question;
    if (data.image) {
      const img = document.createElement("img");
      img.src = data.image;
      img.className = "chat-img";
      bubble.appendChild(document.createElement("br"));
      bubble.appendChild(img);
    }
    if (data.video) {
      const video = document.createElement("video");
      video.src = data.video;
      video.controls = true;
      video.className = "chat-video";
      bubble.appendChild(document.createElement("br"));
      bubble.appendChild(video);
    }

    row.appendChild(avatar);
    row.appendChild(bubble);
    chat.appendChild(row);
    playNataliaSound();
    scrollToBottom();
  }

  function showOptions(options) {
    optionsContainer.innerHTML = "";
    lastOptions = options;
    options.forEach(opt => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.textContent = opt.text;
      btn.onclick = () => handleAnswer(opt);
      optionsContainer.appendChild(btn);
    });
  }

  function showRetry() {
    showMessage({ question: "Postaraj siƒô bardziej, bo stracƒô ochotƒô..." });
    const retryBtn = document.createElement("button");
    retryBtn.className = "option-btn";
    retryBtn.textContent = "Spr√≥buj ponownie";
    retryBtn.onclick = () => showOptions(lastOptions);
    optionsContainer.innerHTML = "";
    optionsContainer.appendChild(retryBtn);
  }

  function handleAnswer(option) {
    const row = document.createElement("div");
    row.className = "message-row user";

    const bubble = document.createElement("div");
    bubble.className = "message user";
    bubble.textContent = option.text;

    row.appendChild(bubble);
    chat.appendChild(row);
    scrollToBottom();
    optionsContainer.innerHTML = "";

    if (!option.correct) {
      showNataliaTyping(showRetry);
      return;
    }

    current++;

    // BLOKADA po 4 wiadomo≈õciach
    if (current === 4 && !unlocked) {
      paywall.style.display = "flex";
      chat.style.display = "none";
      optionsContainer.style.display = "none";
      return;
    }

    if (current >= dialog.length) {
      showNataliaTyping(() => showMessage({ question: "To by≈Ça niezapomniana rozmowa..." }));
      return;
    }

    showNataliaTyping(() => {
      showMessage(dialog[current]);
      showOptions(dialog[current].options);
    });
  }

  function unlockGame() {
    unlocked = true;
    paywall.style.display = "none";
    chat.style.display = "block";
    optionsContainer.style.display = "block";
    showNataliaTyping(() => {
      showMessage(dialog[current]);
      showOptions(dialog[current].options);
    });
  }

  window.onload = () => {
    showNataliaTyping(() => {
      showMessage(dialog[0]);
      showOptions(dialog[0].options);
    });
  };
</script>
</body>
